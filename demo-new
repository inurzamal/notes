<div class="serm-table-header sticky-header">
  <ng-container *ngFor="let header of headers">
    <div *ngIf="header.label !== 'Select' && header.label !== 'ACTIONS' || needActions" [class]="header.class + ' d-flex'">
      <div>
        {{header.label | titlecase}}
        <!-- Select Checkbox -->
        <input *ngIf="header.label === 'Select' && needActions" class="page-select" type="checkbox" [name]="'page-checkbox'"
          [value]="isPageSelected" [checked]="isPageSelected === true" (change)="selectPageEvent($event)"
          [disabled]="isAllSelected === true" [erraElementRolePrivilege]="functionalityToRoleMapping.CFR1"
          id="cfr1PageSelectAll">
      </div>
      <div class="ml-2 cursor-pointer" *ngIf="header.sortable && needActions" (click)="sort(header.field)">
        <span *ngIf="isSorted(header.field) === 'none'">
          <img src="assets/images/icon-sortingdefault.svg">
        </span>
        <span *ngIf="isSorted(header.field) === 'ascend'">
          <img src="assets/images/icon-sortingascending.svg">
        </span>
        <span *ngIf="isSorted(header.field) === 'descend'">
          <img src="assets/images/icon-sortingdescending.svg">
        </span>
      </div>
    </div>
  </ng-container>
</div>

<div *ngIf="!isTableEmpty">
  <ng-container *ngFor="let row of tableData">
    <div class="serm-table-row">
      <ng-container *ngFor="let header of headers">
        <div *ngIf="header.label !== 'Select' && header.label !== 'ACTIONS' || needActions" class="d-flex">
          <!-- Data Rows -->
          <div *ngIf="header.label === 'Select' && needActions">
            <input class="page-select" type="checkbox" [name]="'page-checkbox'" [checked]="isRowSelected(row)"
              (change)="selectRowEvent(row)">
          </div>
          <div *ngIf="header.label === 'ACTIONS' && needActions">
            <button (click)="editRow(row)">Edit</button>
            <button (click)="deleteRow(row)">Delete</button>
          </div>
          <div *ngIf="header.label !== 'Select' && header.label !== 'ACTIONS'">
            {{row[header.field]}}
          </div>
        </div>
      </ng-container>
    </div>
  </ng-container>
</div>

<div *ngIf="isTableEmpty" class="empty-table-message">
  No data available.
</div>

<div *ngIf="isPaginated">
  <pagination-component [pageData]="paginationData"></pagination-component>
</div>
